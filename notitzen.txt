âœ… Step 1: Where does $user['username'] come from?
You did:

php

$user = $result->fetch_assoc();
That gives you an associative array like:

[
  'username' => 'coolboy123',
  'password' => '$2y$10... (hashed)'
]
So yes â€” now $user['username'] is the logged-in username pulled from the database.



ðŸ§  What is $stmt?
Think of $stmt as short for â€œstatementâ€ â€” more specifically:

A prepared statement that gets sent to the database.

ðŸ”§ So what does $stmt = $conn->prepare($query) do?
It prepares a SQL query (with placeholders like ?) before it actually sends data to the database.

Why?

To prevent SQL injection.

To allow safely binding real values later (bind_param).

Youâ€™re basically telling MySQL:

"Hey, Iâ€™m gonna run a query like SELECT * FROM users WHERE username = ? â€” Iâ€™ll tell you what ? should be in a sec.â€


index login: 
Yes! ðŸ”¥ Richtig gedacht und super erklÃ¤rt!

get_result() gibt dir die ganze Ergebnismenge â€“ stell dir das vor wie eine Tabelle mit Zeilen und Spalten.
fetch_assoc() holt sich davon eine einzelne Zeile (z.â€¯B. vom passenden User) und gibt sie dir als assoziatives Array zurÃ¼ck, z.â€¯B.:

php
Kopieren
Bearbeiten
[
  "username" => "cooluser",
  "password" => "$2y$10$...."
]
Das brauchst du, um dann z.â€¯B. auf $user['password'] zugreifen zu kÃ¶nnen â€“ genau wie duâ€™s gesagt hast.




CREATE TABLE notes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    content TEXT NOT NULL,
    created_by INT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (created_by) REFERENCES users(id)
); Foreign key references setzt die relation. also createdby spalte ist gleich id vom user in user table.


var dump zum debuggen